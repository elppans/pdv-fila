Gerenciamento de som no Ubuntu com Alsa, Pulseaudio, pavucontrol, etc.

O `pavucontrol` funciona com o PipeWire tamb√©m ‚Äî desde que o PipeWire esteja em modo de compatibilidade com o PulseAudio, o que √© o caso na maioria das distribui√ß√µes Linux mais recentes, incluindo o Ubuntu. Basicamente, o PipeWire ‚Äúimita‚Äù o PulseAudio por meio de um servi√ßo chamado `pipewire-pulse`, permitindo que ferramentas como o `pavucontrol` continuem funcionando normalmente.

Ou seja, mesmo que voc√™ esteja usando PipeWire como servidor de √°udio, o `pavucontrol` ainda vai mostrar os dispositivos e fluxos de √°udio como se fosse PulseAudio. 

___

O `pavucontrol` em si √© uma interface gr√°fica, ent√£o ele n√£o oferece controle direto via linha de comando. Mas tem uma alternativa poderosa pra isso: **`pactl`**, que funciona muito bem tanto com PulseAudio quanto com PipeWire (usando o `pipewire-pulse`).

Aqui vai um exemplo b√°sico para aumentar o volume:

```bash
pactl set-sink-volume @DEFAULT_SINK@ +10%
```

Esse comando aumenta em 10% o volume da sa√≠da de √°udio padr√£o. Se quiser diminuir, √© s√≥ trocar o `+` por `-`.

Quer saber o nome dos dispositivos dispon√≠veis? Use:

```bash
pactl list short sinks
```

E pra definir o volume de um sink espec√≠fico:

```bash
pactl set-sink-volume nome_ou_id_do_sink 75%
```

___


Pra descobrir o volume atual da sua sa√≠da de √°udio com `pactl`, voc√™ pode usar este comando:

```bash
pactl list sinks | grep -A 15 'Name: ' | grep 'Volume'
```

Esse comando lista todos os sinks (sa√≠das de √°udio) e exibe as linhas que mostram os volumes atuais. Se voc√™ quiser ver apenas o volume da sa√≠da padr√£o, pode fazer assim:

```bash
pactl get-sink-volume @DEFAULT_SINK@
```

Esse comando √© direto e mostra algo como:

```
Volume: front-left: 65536 / 100% / 0.00 dB, front-right: 65536 / 100% / 0.00 dB
```

___


**O `alsamixer` √© um mixer de volume para o ALSA**, que √© o sistema de som mais b√°sico no Linux. **O PulseAudio (e tamb√©m o PipeWire) rodam por cima do ALSA**, ou seja, eles usam o ALSA para realmente enviar o som pro hardware. Ent√£o, o que o `alsamixer` controla s√£o os volumes e os canais no n√≠vel do ALSA ‚Äî ou seja, bem pr√≥ximo do "metal", por assim dizer. üòÑ

Mesmo com PulseAudio rodando, voc√™ pode abrir o `alsamixer` e ajustar volumes. Por exemplo:
```bash
alsamixer
```
E ali voc√™ pode ajustar a sa√≠da de √°udio do seu dispositivo (normalmente ‚ÄúMaster‚Äù, ‚ÄúPCM‚Äù etc). Isso pode impactar o volume final mesmo se voc√™ tamb√©m estiver controlando o √°udio via `pavucontrol` ou `pactl`.

S√≥ tem que tomar cuidado: √†s vezes o volume no ALSA t√° mutado, mesmo que no PulseAudio pare√ßa tudo normal. D√° pra ver isso no `alsamixer` ‚Äî se a barrinha estiver com ‚ÄúMM‚Äù embaixo, t√° mutado. Aperta `M` pra reativar e usa as setinhas pra ajustar o volume.

___

Checar se o servi√ßo do PulseAudio est√° ativo no seu sistema:

1. **Verificar se ele est√° rodando**:

```bash
ps aux | grep pulseaudio
```

Se voc√™ vir uma linha com o processo `pulseaudio`, isso indica que ele est√° em execu√ß√£o ‚Äî normalmente como processo do seu usu√°rio.

2. **Usar `systemctl` (se o PulseAudio estiver rodando como servi√ßo de sistema)**:

```bash
systemctl --user status pulseaudio
```

Ou, se estiver usando PipeWire no lugar do PulseAudio:

```bash
systemctl --user status pipewire-pulse
```

3. **Verificar a sa√≠da do comando `pactl`** (se estiver ativo, o `pactl` vai funcionar):

```bash
pactl info
```

Se tudo estiver certo, esse comando vai te mostrar algo como:

```
Server Name: pulseaudio
```

Ou, se estiver no PipeWire, dir√° `pulse-server (PipeWire ...)`.

___

Se o `pactl info` n√£o trouxe informa√ß√µes sobre o PulseAudio e o comando `systemctl --user status pulseaudio` mostrou que o servi√ßo est√° desativado (ou nem existe), ent√£o o mais prov√°vel √© que voc√™ esteja usando **PipeWire** como substituto do PulseAudio ‚Äî o que √© comum nas vers√µes mais recentes do Ubuntu.

Voc√™ pode confirmar isso com:

```bash
pactl info
```

Se aparecer algo como:

```
Server Name: PulseAudio (on PipeWire ...)
```

Ent√£o est√° tudo funcionando atrav√©s do *pipewire-pulse* ‚Äî ou seja, o **servidor de som compat√≠vel com PulseAudio est√° ativo**, s√≥ que implementado pelo PipeWire.

Se por outro lado o `pactl info` retornar um erro do tipo ‚ÄúConnection failure‚Äù, a√≠ sim o servidor de som pode n√£o estar rodando. Nessa situa√ß√£o, tente:

```bash
systemctl --user restart pipewire pipewire-pulse
```

E depois cheque de novo com `pactl info`.

Se quiser um diagn√≥stico mais completo, me manda a sa√≠da dos seguintes comandos e eu te ajudo a interpretar tudo:

```bash
systemctl --user status pipewire pipewire-pulse
pactl info
```

___

Na vers√£o 16.04 do Ubuntu, o servidor de √°udio padr√£o ainda √© o **PulseAudio**, e o **PipeWire** nem fazia parte do sistema naquela √©poca. Ou seja, se o som n√£o est√° funcionando e o PulseAudio aparentemente n√£o est√° rodando, a gente precisa traz√™-lo de volta √† ativa.

Aqui v√£o alguns passos diretos pra tentar restaurar o PulseAudio:

1. **Reinstale o PulseAudio**:
   ```bash
   sudo apt-get install --reinstall pulseaudio
   ```

2. **Reinicie o PulseAudio manualmente**:
   ```bash
   pulseaudio --kill
   pulseaudio --start
   ```

3. **Verifique se ele voltou**:
   ```bash
   pactl info
   ```

   Se funcionar, vai mostrar algo como `Server Name: pulseaudio`.

4. **Se nada funcionar, tente apagar a configura√ß√£o local** (isso pode corrigir problemas de configura√ß√£o corrompida):
   ```bash
   rm -r ~/.config/pulse
   pulseaudio --start
   ```

___

SOM NO FIREFOX

O Firefox n√£o funciona o som, mas o Chromium funciona

# firefox PulseAudio

Se o som funciona no Chromium, mas n√£o no Firefox, ent√£o o problema provavelmente n√£o est√° no sistema de √°udio como um todo, mas **em algo espec√≠fico na configura√ß√£o do Firefox**.

Aqui v√£o algumas sugest√µes espec√≠ficas pro Firefox no Ubuntu 16.04:

1. **Verifique se o som n√£o est√° bloqueado no Firefox**  
   Acesse um site como YouTube, clique no cadeado ao lado da URL e veja se a permiss√£o de som est√° liberada.

2. **Teste desativar o ALSA no Firefox**  
   O Firefox √†s vezes tenta usar uma sa√≠da de √°udio diferente. Tente for√ßar ele a usar PulseAudio criando ou editando o arquivo:
   ```bash
   echo "media.cubeb.backend = pulse" >> ~/.mozilla/firefox/*.default*/user.js
   ```

3. **Rodar o Firefox pelo terminal e observar mensagens**  
   Execute assim:
   ```bash
   firefox
   ```
   A sa√≠da pode dar alguma dica de erro relacionado ao √°udio.

4. **Experimente com um novo perfil**  
   √Äs vezes, extens√µes ou configura√ß√µes corrompidas atrapalham o som. Tente iniciar com um perfil limpo:
   ```bash
   firefox --no-remote -P
   ```

5. **Verifique se falta algum pacote GStreamer**  
   O Firefox no Ubuntu 16.04 depende do GStreamer para lidar com √°udio e v√≠deo. Instale:
   ```bash
   sudo apt-get install gstreamer1.0-pulseaudio
   ```


